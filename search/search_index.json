{"config":{"lang":["en","zh"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"LeanUp","text":"<p>A Python package for managing Lean mathematical proof language environments.</p>"},{"location":"#features","title":"Features","text":"<ul> <li>\ud83d\udd27 elan Management: Install and manage the Lean toolchain manager elan with a single command</li> <li>\ud83d\udce6 Repository Management: Install and manage Lean repositories</li> <li>\ud83c\udf0d Cross-platform Support: Works on Linux, macOS, and Windows</li> <li>\ud83d\udce6 Easy Installation: Quick setup via <code>pip install leanup</code></li> </ul>"},{"location":"#quick-start","title":"Quick Start","text":"<p>Check the Quick Start guide to begin using LeanUp.</p>"},{"location":"#command-line-interface","title":"Command Line Interface","text":"<p>LeanUp provides a comprehensive CLI with the following commands:</p>"},{"location":"#main-commands","title":"Main Commands","text":"<ul> <li><code>leanup init</code> - Initialize elan installation</li> <li><code>leanup install [version]</code> - Install Lean toolchain version via elan</li> <li><code>leanup status</code> - Show current status and installed toolchains</li> <li><code>leanup elan &lt;args&gt;</code> - Proxy elan commands</li> </ul>"},{"location":"#repository-management","title":"Repository Management","text":"<ul> <li><code>leanup repo install &lt;repository&gt;</code> - Install Lean repositories (format: owner/repo)</li> <li><code>leanup repo list</code> - List installed repositories</li> </ul>"},{"location":"#modules","title":"Modules","text":""},{"location":"#cli-module","title":"CLI Module","text":"<p>The <code>leanup.cli</code> module provides the command-line interface:</p> <ul> <li>Main CLI: Core commands for elan management and status monitoring</li> <li>Repository CLI: Commands for managing Lean repositories</li> </ul>"},{"location":"#utils-module","title":"Utils Module","text":"<p>The <code>leanup.utils</code> module provides utility functions for the package:</p> <ul> <li><code>execute_command</code>: Execute shell commands with proper error handling and cross-platform support</li> <li><code>setup_logger</code>: Configure a logger with customizable output formats and color support</li> </ul>"},{"location":"#repo-module","title":"Repo Module","text":"<p>The <code>leanup.repo</code> module provides repository management functionality:</p> <ul> <li><code>RepoManager</code>: Base class for directory and git operations</li> <li><code>LeanRepo</code>: Specialized class for Lean project management with lake support</li> <li><code>ElanManager</code>: Manage elan installation and toolchain operations</li> </ul>"},{"location":"getting-started/quickstart/","title":"Quick Start","text":""},{"location":"getting-started/quickstart/#installation","title":"Installation","text":"<pre><code># Install from source\npip install -e /path/to/LeanUp\n\n# Or clone the repository and install\ngit clone https://github.com/Lean-zh/LeanUp.git\ncd LeanUp\npip install -e .\n</code></pre>"},{"location":"getting-started/quickstart/#basic-usage","title":"Basic Usage","text":""},{"location":"getting-started/quickstart/#initialize-elan","title":"Initialize elan","text":"<pre><code># View help\nleanup --help\n\n# Install elan\nleanup init\n\n# View current status\nleanup status\n</code></pre>"},{"location":"getting-started/quickstart/#install-lean-toolchain","title":"Install Lean Toolchain","text":"<pre><code># Install latest stable Lean toolchain\nleanup install\n\n# Install specific Lean toolchain version\nleanup install v4.14.0\n\n# Force reinstall\nleanup install --force\n</code></pre>"},{"location":"getting-started/quickstart/#manage-toolchains","title":"Manage Toolchains","text":"<pre><code># Proxy execute elan commands\nleanup elan --help\nleanup elan toolchain list\nleanup elan toolchain install stable\nleanup elan default stable\n</code></pre>"},{"location":"getting-started/quickstart/#repository-management","title":"Repository Management","text":"<pre><code># Install a repository (format: owner/repo)\nleanup repo install leanprover-community/mathlib4\n\n# Install with specific options\nleanup repo install leanprover-community/mathlib4 --branch main --force\n\n# Install to specific directory\nleanup repo install leanprover-community/mathlib4 --dest-dir ./my-mathlib\n\n# Install from custom URL\nleanup repo install owner/repo --url https://github.com/owner/repo.git\n\n# List installed repositories\nleanup repo list\n\n# List repositories with filter\nleanup repo list --name mathlib\n\n# Interactive installation\nleanup repo install -i\n</code></pre>"},{"location":"getting-started/quickstart/#using-the-repomanager","title":"Using the RepoManager","text":"<p>The <code>RepoManager</code> class provides functionality for managing directories and git repositories:</p> <pre><code>from leanup.repo import RepoManager\n\n# Create a repo manager\nrepo = RepoManager(\"/path/to/your/directory\")\n\n# Check if it's a git repository\nif repo.is_gitrepo:\n    print(\"This is a git repository\")\n    status = repo.git_status()\n    print(f\"Current branch: {status['branch']}\")\n\n# File operations\nrepo.write_file(\"test.txt\", \"Hello world\")\ncontent = repo.read_file(\"test.txt\")\nrepo.edit_file(\"test.txt\", \"world\", \"universe\")\n\n# List files and directories\nfiles = repo.list_files(\"*.lean\")\ndirs = repo.list_dirs()\n</code></pre>"},{"location":"getting-started/quickstart/#using-leanrepo-for-lean-projects","title":"Using LeanRepo for Lean Projects","text":"<pre><code>from leanup.repo import LeanRepo\n\n# Create a Lean repo manager\nlean_repo = LeanRepo(\"/path/to/lean/project\")\n\n# Get project information\ninfo = lean_repo.get_project_info()\nprint(f\"Lean version: {info['lean_version']}\")\nprint(f\"Has lakefile: {info['has_lakefile_toml']}\")\n\n# Lake operations (execute commands directly)\nstdout, stderr, returncode = lean_repo.lake([\"build\"])\nstdout, stderr, returncode = lean_repo.lake_update()\nstdout, stderr, returncode = lean_repo.lake_build()\n</code></pre>"},{"location":"zh/","title":"LeanUp","text":"<p>\u4e00\u4e2a\u7528\u4e8e\u7ba1\u7406 Lean \u6570\u5b66\u8bc1\u660e\u8bed\u8a00\u73af\u5883\u7684 Python \u5de5\u5177\u3002</p>"},{"location":"zh/#_1","title":"\u529f\u80fd\u7279\u6027","text":"<ul> <li>\ud83d\udd27 elan \u7ba1\u7406: \u5b89\u88c5\u548c\u7ba1\u7406 Lean \u5de5\u5177\u94fe\u7ba1\u7406\u5668 elan</li> <li>\ud83d\udce6 \u4ed3\u5e93\u7ba1\u7406: \u5b89\u88c5\u548c\u7ba1\u7406 Lean \u4ed3\u5e93</li> <li>\ud83c\udf0d \u8de8\u5e73\u53f0\u652f\u6301: \u652f\u6301 Linux\u3001macOS \u548c Windows</li> <li>\ud83d\udce6 \u7b80\u5355\u6613\u7528: \u901a\u8fc7 <code>pip install leanup</code> \u5feb\u901f\u5b89\u88c5</li> </ul>"},{"location":"zh/#_2","title":"\u5feb\u901f\u5f00\u59cb","text":"<p>\u67e5\u770b\u5feb\u901f\u5f00\u59cb\u6307\u5357\uff0c\u5f00\u59cb\u4f7f\u7528 LeanUp\u3002</p>"},{"location":"zh/#_3","title":"\u547d\u4ee4\u884c\u754c\u9762","text":"<p>LeanUp \u63d0\u4f9b\u4e86\u5b8c\u6574\u7684 CLI\uff0c\u5305\u542b\u4ee5\u4e0b\u547d\u4ee4\uff1a</p>"},{"location":"zh/#_4","title":"\u4e3b\u8981\u547d\u4ee4","text":"<ul> <li><code>leanup init</code> - \u521d\u59cb\u5316 elan \u5b89\u88c5</li> <li><code>leanup install [version]</code> - \u5b89\u88c5 Lean \u5de5\u5177\u94fe\u7248\u672c\uff08\u901a\u8fc7 elan\uff09</li> <li><code>leanup status</code> - \u663e\u793a\u5f53\u524d\u72b6\u6001\u548c\u5df2\u5b89\u88c5\u5de5\u5177\u94fe</li> <li><code>leanup elan &lt;args&gt;</code> - \u4ee3\u7406 elan \u547d\u4ee4</li> </ul>"},{"location":"zh/#_5","title":"\u4ed3\u5e93\u7ba1\u7406","text":"<ul> <li><code>leanup repo install &lt;repository&gt;</code> - \u5b89\u88c5 Lean \u4ed3\u5e93\uff08\u683c\u5f0f\uff1aowner/repo\uff09</li> <li><code>leanup repo list</code> - \u5217\u51fa\u5df2\u5b89\u88c5\u7684\u4ed3\u5e93</li> </ul>"},{"location":"zh/#_6","title":"\u6a21\u5757","text":""},{"location":"zh/#cli","title":"CLI \u6a21\u5757","text":"<p><code>leanup.cli</code> \u6a21\u5757\u63d0\u4f9b\u4e86\u547d\u4ee4\u884c\u754c\u9762\uff1a</p> <ul> <li>\u4e3b CLI: elan \u7ba1\u7406\u548c\u72b6\u6001\u76d1\u63a7\u7684\u6838\u5fc3\u547d\u4ee4</li> <li>\u4ed3\u5e93 CLI: \u7ba1\u7406 Lean \u4ed3\u5e93\u7684\u547d\u4ee4</li> </ul>"},{"location":"zh/#utils","title":"Utils \u6a21\u5757","text":"<p><code>leanup.utils</code> \u6a21\u5757\u63d0\u4f9b\u4e86\u5305\u7684\u5b9e\u7528\u51fd\u6570\uff1a</p> <ul> <li><code>execute_command</code>: \u6267\u884c shell \u547d\u4ee4\uff0c\u5177\u6709\u9002\u5f53\u7684\u9519\u8bef\u5904\u7406\u548c\u8de8\u5e73\u53f0\u652f\u6301</li> <li><code>setup_logger</code>: \u914d\u7f6e\u65e5\u5fd7\u8bb0\u5f55\u5668\uff0c\u652f\u6301\u81ea\u5b9a\u4e49\u8f93\u51fa\u683c\u5f0f\u548c\u989c\u8272</li> </ul>"},{"location":"zh/#repo","title":"Repo \u6a21\u5757","text":"<p><code>leanup.repo</code> \u6a21\u5757\u63d0\u4f9b\u4e86\u4ed3\u5e93\u7ba1\u7406\u529f\u80fd\uff1a</p> <ul> <li><code>RepoManager</code>: \u76ee\u5f55\u548c git \u64cd\u4f5c\u7684\u57fa\u7840\u7c7b</li> <li><code>LeanRepo</code>: \u4e13\u95e8\u7528\u4e8e Lean \u9879\u76ee\u7ba1\u7406\u7684\u7c7b\uff0c\u652f\u6301 lake \u64cd\u4f5c</li> <li><code>ElanManager</code>: \u7ba1\u7406 elan \u5b89\u88c5\u548c\u5de5\u5177\u94fe\u64cd\u4f5c</li> </ul>"},{"location":"zh/getting-started/quickstart/","title":"\u5feb\u901f\u5f00\u59cb","text":""},{"location":"zh/getting-started/quickstart/#_2","title":"\u5b89\u88c5","text":"<pre><code># \u4ece\u6e90\u7801\u5b89\u88c5\npip install -e /path/to/LeanUp\n\n# \u6216\u8005\u514b\u9686\u4ed3\u5e93\u540e\u5b89\u88c5\ngit clone https://github.com/Lean-zh/LeanUp.git\ncd LeanUp\npip install -e .\n</code></pre>"},{"location":"zh/getting-started/quickstart/#_3","title":"\u57fa\u7840\u4f7f\u7528","text":""},{"location":"zh/getting-started/quickstart/#elan","title":"\u521d\u59cb\u5316 elan","text":"<pre><code># \u67e5\u770b\u5e2e\u52a9\nleanup --help\n\n# \u5b89\u88c5 elan\nleanup init\n\n# \u67e5\u770b\u5f53\u524d\u72b6\u6001\nleanup status\n</code></pre>"},{"location":"zh/getting-started/quickstart/#lean","title":"\u5b89\u88c5 Lean \u5de5\u5177\u94fe","text":"<pre><code># \u5b89\u88c5\u6700\u65b0\u7a33\u5b9a\u7248 Lean \u5de5\u5177\u94fe\nleanup install\n\n# \u5b89\u88c5\u7279\u5b9a\u7248\u672c\u7684 Lean \u5de5\u5177\u94fe\nleanup install v4.14.0\n\n# \u5f3a\u5236\u91cd\u65b0\u5b89\u88c5\nleanup install --force\n</code></pre>"},{"location":"zh/getting-started/quickstart/#_4","title":"\u7ba1\u7406\u5de5\u5177\u94fe","text":"<pre><code># \u4ee3\u7406\u6267\u884c elan \u547d\u4ee4\nleanup elan --help\nleanup elan toolchain list\nleanup elan toolchain install stable\nleanup elan default stable\n</code></pre>"},{"location":"zh/getting-started/quickstart/#_5","title":"\u4ed3\u5e93\u7ba1\u7406","text":"<pre><code># \u5b89\u88c5\u4ed3\u5e93\uff08\u683c\u5f0f\uff1aowner/repo\uff09\nleanup repo install leanprover-community/mathlib4\n\n# \u4f7f\u7528\u7279\u5b9a\u9009\u9879\u5b89\u88c5\nleanup repo install leanprover-community/mathlib4 --branch main --force\n\n# \u5b89\u88c5\u5230\u6307\u5b9a\u76ee\u5f55\nleanup repo install leanprover-community/mathlib4 --dest-dir ./my-mathlib\n\n# \u5217\u51fa\u5df2\u5b89\u88c5\u7684\u4ed3\u5e93\nleanup repo list\n\n# \u4f7f\u7528\u8fc7\u6ee4\u5668\u5217\u51fa\u4ed3\u5e93\nleanup repo list --name mathlib\n\n# \u4ea4\u4e92\u5f0f\u5b89\u88c5\nleanup repo install -i\n</code></pre>"},{"location":"zh/getting-started/quickstart/#repomanager","title":"\u4f7f\u7528 RepoManager","text":"<p><code>RepoManager</code> \u7c7b\u63d0\u4f9b\u4e86\u7ba1\u7406\u76ee\u5f55\u548c git \u4ed3\u5e93\u7684\u529f\u80fd\uff1a</p> <pre><code>from leanup.repo import RepoManager\n\n# \u521b\u5efa\u4ed3\u5e93\u7ba1\u7406\u5668\nrepo = RepoManager(\"/path/to/your/directory\")\n\n# \u68c0\u67e5\u662f\u5426\u4e3a git \u4ed3\u5e93\nif repo.is_gitrepo:\n    print(\"\u8fd9\u662f\u4e00\u4e2a git \u4ed3\u5e93\")\n    status = repo.git_status()\n    print(f\"\u5f53\u524d\u5206\u652f: {status['branch']}\")\n\n# \u6587\u4ef6\u64cd\u4f5c\nrepo.write_file(\"test.txt\", \"Hello world\")\ncontent = repo.read_file(\"test.txt\")\nrepo.edit_file(\"test.txt\", \"world\", \"universe\")\n\n# \u5217\u51fa\u6587\u4ef6\u548c\u76ee\u5f55\nfiles = repo.list_files(\"*.lean\")\ndirs = repo.list_dirs()\n</code></pre>"},{"location":"zh/getting-started/quickstart/#leanrepo-lean","title":"\u4f7f\u7528 LeanRepo \u7ba1\u7406 Lean \u9879\u76ee","text":"<pre><code>from leanup.repo import LeanRepo\n\n# \u521b\u5efa Lean \u4ed3\u5e93\u7ba1\u7406\u5668\nlean_repo = LeanRepo(\"/path/to/lean/project\")\n\n# \u83b7\u53d6\u9879\u76ee\u4fe1\u606f\ninfo = lean_repo.get_project_info()\nprint(f\"Lean \u7248\u672c: {info['lean_version']}\")\nprint(f\"\u6709 lakefile: {info['has_lakefile_toml']}\")\n\n# Lake \u64cd\u4f5c\uff08\u76f4\u63a5\u6267\u884c\u547d\u4ee4\uff09\nstdout, stderr, returncode = lean_repo.lake([\"build\"])\nstdout, stderr, returncode = lean_repo.lake_update()\nstdout, stderr, returncode = lean_repo.lake_build()\n</code></pre>"}]}